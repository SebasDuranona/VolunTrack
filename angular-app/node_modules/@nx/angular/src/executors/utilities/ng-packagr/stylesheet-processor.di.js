"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.STYLESHEET_PROCESSOR = void 0;
const stylesheet_processor_di_1 = require("ng-packagr/lib/styles/stylesheet-processor.di");
const angular_version_utils_1 = require("../angular-version-utils");
const stylesheet_processor_1 = require("./stylesheet-processor");
exports.STYLESHEET_PROCESSOR = {
    provide: stylesheet_processor_di_1.STYLESHEET_PROCESSOR_TOKEN,
    useFactory: () => {
        const { version: ngPackagrVersion } = (0, angular_version_utils_1.getInstalledPackageVersionInfo)('ng-packagr');
        return ngPackagrVersion !== '17.2.0'
            ? stylesheet_processor_1.StylesheetProcessor
            : stylesheet_processor_1.AsyncStylesheetProcessor;
    },
    deps: [],
};
