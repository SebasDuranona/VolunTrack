"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const devkit_1 = require("@nx/devkit");
async function default_1(tree) {
    const projects = (0, devkit_1.getProjects)(tree);
    projects.forEach((p) => {
        let shouldUpdate = false;
        Object.entries(p.targets).forEach(([name, config]) => {
            if (p.targets?.[name]?.executor === '@nrwl/webpack:webpack' &&
                p.targets?.[name]?.options.es2015Polyfills) {
                delete p.targets?.[name]?.options.es2015Polyfills;
                shouldUpdate = true;
            }
        });
        if (shouldUpdate) {
            (0, devkit_1.updateProjectConfiguration)(tree, p.name, p);
        }
    });
}
exports.default = default_1;
